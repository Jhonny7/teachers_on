(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{L6id:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),i=function(){return function(){}}(),u=e("pMnS"),o=e("RIls"),r=e("IiMW"),c=e("OoFP"),a=e("oBZk"),s=e("ZZ/e"),b=e("Ip0R"),g=e("mrSG"),p=e("FTo8"),h=e("7wkb"),d=e("mhKI"),f=e("sYLr"),m=e("jXL6"),v=function(){function n(n,l,e,t,i,u,o,r,c){this.menuCtrl=n,this.events=l,this.loadingService=e,this.genericService=t,this.alertaService=i,this.router=u,this.modalController=o,this.alertCtrl=r,this.actionSheetController=c,this.user=null,this.categorias=[],this.user=JSON.parse(localStorage.getItem("user")),this.events.publish("menu:changed",this.user.id_rol),this.chargeCategories()}return n.prototype.ionRefresh=function(n){var l=this;setTimeout(function(){l.categorias=[],n.target.complete(),l.chargeCategories()},3e3)},n.prototype.ionViewWillEnter=function(){this.menuCtrl.enable(!0)},n.prototype.chargeCategories=function(){var n=this;this.categorias=[],this.genericService.post("categorias/categorias",JSON.stringify({})).subscribe(function(l){console.log(l),l.parameters&&(l.parameters.forEach(function(l){n.categorias.push(new h.a(l.id,l.descripcion,l.img_url,l.img_base64,l.color))}),n.loadingService.hide())},function(l){console.log(l.error.description),n.loadingService.hide(),n.alertaService.errorAlert(n.genericService.headerError,l.error.description,null)})},n.prototype.checkoutCategory=function(n){this.router.navigate(["/videos",{id:n}])},n.prototype.openCrud=function(n){return g.b(this,void 0,void 0,function(){var l,e=this;return g.e(this,function(t){switch(t.label){case 0:return 1!=n?[3,3]:[4,this.modalController.create({component:p.a,componentProps:{type:"Crear"}})];case 1:return(l=t.sent()).onDidDismiss().then(function(n){var l=n.data.data;console.log(l),1==l?e.chargeCategories():(console.log("Data null"),e.loadingService.hide())}),[4,l.present()];case 2:return[2,t.sent()];case 3:this.openModalEdit(this.categoria),t.label=4;case 4:return[2]}})})},n.prototype.openModalEdit=function(n){return g.b(this,void 0,void 0,function(){var l,e=this;return g.e(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:p.a,componentProps:{type:"Editar",categoria:n}})];case 1:return(l=t.sent()).onDidDismiss().then(function(n){console.log(n),console.log(n.data);var l=n.data.data;console.log(l),1==l?e.chargeCategories():(console.log("Data null"),e.loadingService.hide())}),[4,l.present()];case 2:return[2,t.sent()]}})})},n.prototype.openOptionsSelect=function(n){return g.b(this,void 0,void 0,function(){var l=this;return g.e(this,function(e){switch(e.label){case 0:return[4,this.actionSheetController.create({buttons:[{text:"Borrar",role:"destructive",icon:"trash",handler:function(){l.eliminar(n)}},{text:"Editar",icon:"build",handler:function(){l.categoria=n,l.openCrud(2)}},{text:"Ver Videos",icon:"arrow-dropright-circle",handler:function(){l.checkoutCategory(n.id)}},{text:"Cancelar",icon:"close",role:"cancel",handler:function(){}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n.prototype.eliminar=function(n){return g.b(this,void 0,void 0,function(){var l=this;return g.e(this,function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:"Confirmaci\xf3n",message:"\xbfEst\xe1s seguro de eliminar la categor\xeda?, recuerda que si la categor\xeda contiene videos, no podr\xe1s eliminarla",buttons:[{text:"Cancelar",handler:function(){}},{text:"Aceptar",handler:function(){l.eliminarCategoria(n)}}]})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})},n.prototype.eliminarCategoria=function(n){return g.b(this,void 0,void 0,function(){var l,e=this;return g.e(this,function(t){return l={id:n.id},this.loadingService.show().then(function(){e.genericService.post("categorias/deleteCategoria",JSON.stringify(l)).subscribe(function(l){if(console.log(l),"A"==l.status)return e.removeitem(n).then(function(){e.loadingService.hide()});e.alertaService.warnAlert(e.genericService.headerValidacion,l.description,null),e.loadingService.hide()},function(n){console.log(n),e.loadingService.hide(),e.alertaService.errorAlert(e.genericService.headerError,n.error.description,null)})}),[2]})})},n.prototype.removeitem=function(n){return g.b(this,void 0,void 0,function(){var l;return g.e(this,function(e){return l=this.categorias.findIndex(function(l){return l.id==n.id}),this.categorias=this.categorias.slice(0,l).concat(this.categorias.slice(l+1)),[2,new Promise(function(n){n(!0)})]})})},n.prototype.cambiarContrasenia=function(){this.router.navigateByUrl("/cambio-contrasenia")},n}(),y=e("ZYCi"),k=t.ob({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.icono[_ngcontent-%COMP%]{font-size:1.5em;margin-right:5px}"]],data:{}});function S(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,2,"div",[["class","contenedorSpinner"]],null,null,null,null,null)),(n()(),t.qb(1,0,null,null,1,"ion-spinner",[],null,null,null,a.ob,a.F)),t.pb(2,49152,null,0,s.tb,[t.h,t.k],null,null)],null,null)}function q(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,0,"img",[["alt",""],["class","columnMedia"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,t.sb(1,"",l.parent.context.$implicit.img_url,""))})}function C(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,0,"img",[["alt",""],["class","columnMedia"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,t.sb(1,"",l.parent.context.$implicit.img_base64,""))})}function I(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,0,"img",[["alt",""],["class","columnMedia"],["src","assets/imgs/categoria/categoria.png"]],null,null,null,null,null))],null,null)}function x(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,11,"div",[["class","mosaico animated rubberBand"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.checkoutCategory(n.context.$implicit.id)&&t),t},null,null)),t.pb(1,278528,null,0,b.l,[t.t,t.k,t.E],{ngStyle:[0,"ngStyle"]},null),t.Bb(2,{"background-color":0}),(n()(),t.qb(3,0,null,null,8,"div",[["class","contenedorItems"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,q)),t.pb(5,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,null,1,null,C)),t.pb(7,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,null,1,null,I)),t.pb(9,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.qb(10,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),t.Fb(11,null,["",""]))],function(n,l){var e=n(l,2,0,null!==l.context.$implicit.color?l.context.$implicit.color:"red");n(l,1,0,e),n(l,5,0,null!==l.context.$implicit.img_url),n(l,7,0,null!==l.context.$implicit.img_base64),n(l,9,0,null===l.context.$implicit.img_base64&&null===l.context.$implicit.img_url)},function(n,l){n(l,11,0,l.context.$implicit.descripcion)})}function w(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,x)),t.pb(2,278528,null,0,b.h,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.categorias)},null)}function M(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,0,"img",[["alt",""],["class","columnMedia"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,t.sb(1,"",l.parent.context.$implicit.img_url,""))})}function P(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,0,"img",[["alt",""],["class","columnMedia"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,0,0,t.sb(1,"",l.parent.context.$implicit.img_base64,""))})}function _(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,0,"img",[["alt",""],["class","columnMedia"],["src","assets/imgs/categoria/categoria.png"]],null,null,null,null,null))],null,null)}function $(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,11,"div",[["class","mosaico animated rubberBand"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openOptionsSelect(n.context.$implicit)&&t),t},null,null)),t.pb(1,278528,null,0,b.l,[t.t,t.k,t.E],{ngStyle:[0,"ngStyle"]},null),t.Bb(2,{"background-color":0}),(n()(),t.qb(3,0,null,null,8,"div",[["class","contenedorItems"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,M)),t.pb(5,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,null,1,null,P)),t.pb(7,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,null,1,null,_)),t.pb(9,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.qb(10,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),t.Fb(11,null,["",""]))],function(n,l){var e=n(l,2,0,null!==l.context.$implicit.color?l.context.$implicit.color:"red");n(l,1,0,e),n(l,5,0,null!==l.context.$implicit.img_url),n(l,7,0,null!==l.context.$implicit.img_base64),n(l,9,0,null===l.context.$implicit.img_base64&&null===l.context.$implicit.img_url)},function(n,l){n(l,11,0,l.context.$implicit.descripcion)})}function G(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,$)),t.pb(2,278528,null,0,b.h,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.categorias)},null)}function E(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,5,"ion-fab",[["class","animated swing"],["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.W,a.m)),t.pb(1,49152,null,0,s.y,[t.h,t.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),t.qb(2,0,null,0,3,"ion-fab-button",[["color","dark"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openCrud(1)&&t),t},a.V,a.n)),t.pb(3,49152,null,0,s.z,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.qb(4,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,a.Z,a.q)),t.pb(5,49152,null,0,s.E,[t.h,t.k],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"end","bottom"),n(l,3,0,"dark"),n(l,5,0,"add")},null)}function F(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,12,"ion-header",[["color","icon"]],null,null,null,a.Y,a.p)),t.pb(1,49152,null,0,s.D,[t.h,t.k],null,null),(n()(),t.qb(2,0,null,0,10,"ion-toolbar",[["color","icon"]],null,null,null,a.rb,a.I)),t.pb(3,49152,null,0,s.Db,[t.h,t.k],{color:[0,"color"]},null),(n()(),t.qb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,a.N,a.e)),t.pb(5,49152,null,0,s.n,[t.h,t.k],null,null),(n()(),t.qb(6,0,null,0,1,"ion-menu-button",[],null,null,null,a.hb,a.z)),t.pb(7,49152,null,0,s.T,[t.h,t.k],null,null),(n()(),t.qb(8,0,null,0,1,"ion-icon",[["class","icono"],["name","unlock"],["slot","end"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cambiarContrasenia()&&t),t},a.Z,a.q)),t.pb(9,49152,null,0,s.E,[t.h,t.k],{name:[0,"name"]},null),(n()(),t.qb(10,0,null,0,2,"ion-title",[],null,null,null,a.qb,a.H)),t.pb(11,49152,null,0,s.Bb,[t.h,t.k],null,null),(n()(),t.Fb(12,0,[" Hola "," "])),(n()(),t.qb(13,0,null,null,14,"ion-content",[],null,null,null,a.U,a.l)),t.pb(14,49152,null,0,s.w,[t.h,t.k],null,null),(n()(),t.qb(15,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,e){var t=!0;return"ionRefresh"===l&&(t=!1!==n.component.ionRefresh(e)&&t),t},a.lb,a.B)),t.pb(16,49152,null,0,s.eb,[t.h,t.k],null,null),(n()(),t.qb(17,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["refreshingSpinner","circles"]],null,null,null,a.kb,a.C)),t.pb(18,49152,null,0,s.fb,[t.h,t.k],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(n()(),t.hb(16777216,null,0,1,null,S)),t.pb(20,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.qb(21,0,null,0,4,"div",[["class","mosaicos"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,w)),t.pb(23,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,null,1,null,G)),t.pb(25,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,0,1,null,E)),t.pb(27,16384,null,0,b.i,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,"icon"),n(l,9,0,"unlock"),n(l,18,0,"arrow-dropdown","circles"),n(l,20,0,null==e.categorias||0==e.categorias.length),n(l,23,0,1!=e.user.id_rol),n(l,25,0,1==e.user.id_rol),n(l,27,0,1==e.user.id_rol&&null!==e.categorias&&e.categorias.length>0)},function(n,l){n(l,12,0,l.component.user.nombre)})}function O(n){return t.Gb(0,[(n()(),t.qb(0,0,null,null,1,"app-home",[],null,null,null,F,k)),t.pb(1,49152,null,0,v,[s.Ib,s.f,d.a,f.a,m.a,y.m,s.Jb,s.b,s.a],null,null)],null,null)}var B=t.mb("app-home",v,O,{},{},[]),D=e("ea3w"),J=e("gIcY"),N=e("PCNd");e.d(l,"HomePageModuleNgFactory",function(){return z});var z=t.nb(i,[],function(n){return t.xb([t.yb(512,t.j,t.cb,[[8,[u.a,o.a,r.a,c.a,B,D.a]],[3,t.j],t.x]),t.yb(4608,b.k,b.j,[t.u,[2,b.s]]),t.yb(4608,J.t,J.t,[]),t.yb(4608,s.c,s.c,[t.z,t.g]),t.yb(4608,s.Jb,s.Jb,[s.c,t.j,t.q,b.c]),t.yb(4608,s.Nb,s.Nb,[s.c,t.j,t.q,b.c]),t.yb(4608,J.e,J.e,[]),t.yb(1073742336,b.b,b.b,[]),t.yb(1073742336,J.r,J.r,[]),t.yb(1073742336,J.h,J.h,[]),t.yb(1073742336,s.Fb,s.Fb,[]),t.yb(1073742336,y.n,y.n,[[2,y.t],[2,y.m]]),t.yb(1073742336,N.a,N.a,[]),t.yb(1073742336,J.o,J.o,[]),t.yb(1073742336,i,i,[]),t.yb(1024,y.k,function(){return[[{path:"",component:v}]]},[])])})}}]);