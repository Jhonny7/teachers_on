(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{u5ls:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),i=t("mrSG"),r=t("9IJa"),o=t("S4a9"),u=function(){return function(n,l,t,e,i,r,o){this.id=n,this.descripcion=l,this.img_url=t,this.img_base64=e,this.url=i,this.informacion=r,this.idStatus=o}}(),c=t("mhKI"),a=t("sYLr"),s=t("jXL6"),p=t("ZZ/e"),d=function(){function n(n,l,t,e,i,r,o){this.loadingService=n,this.genericService=l,this.alertaService=t,this.modalController=e,this.alertCtrl=i,this.actionSheetController=r,this.externalUrlService=o,this.user=null,this.patrocinadores=[],this.user=JSON.parse(localStorage.getItem("user")),this.chargePatrocinadores()}return n.prototype.ngOnInit=function(){},n.prototype.ionRefresh=function(n){var l=this;setTimeout(function(){l.patrocinadores=[],n.target.complete(),l.chargePatrocinadores()},3e3)},n.prototype.openLink=function(n){this.externalUrlService.openUrl(n)},n.prototype.chargePatrocinadores=function(){var n=this;this.patrocinadores=[];var l="patrocinadores/getPatrocinadores";1!=this.user.id_rol&&(l="patrocinadores/getPatrocinadoresActivos"),this.genericService.post(l,JSON.stringify({})).subscribe(function(l){console.log(l),l.parameters&&(l.parameters.forEach(function(l){n.patrocinadores.push(new u(l.id,l.descripcion,l.url_image,l.base64_image,l.url,l.informacion,l.id_status))}),n.loadingService.hide())},function(l){console.log(l.error.description),n.loadingService.hide(),n.alertaService.errorAlert(n.genericService.headerError,l.error.description,null)})},n.prototype.openCrud=function(n){return i.b(this,void 0,void 0,function(){var l,t=this;return i.e(this,function(e){switch(e.label){case 0:return 1!=n?[3,3]:[4,this.modalController.create({component:o.a,componentProps:{type:"Crear"}})];case 1:return(l=e.sent()).onDidDismiss().then(function(n){var l=n.data.data;console.log(l),1==l?t.chargePatrocinadores():(console.log("Data null"),t.loadingService.hide())}),[4,l.present()];case 2:return[2,e.sent()];case 3:this.openModalEdit(this.patrocinador),e.label=4;case 4:return[2]}})})},n.prototype.openModalEdit=function(n){return i.b(this,void 0,void 0,function(){var l,t=this;return i.e(this,function(e){switch(e.label){case 0:return[4,this.modalController.create({component:o.a,componentProps:{type:"Editar",patrocinador:n}})];case 1:return(l=e.sent()).onDidDismiss().then(function(n){var l=n.data.data;console.log(l),1==l?t.chargePatrocinadores():(console.log("Data null"),t.loadingService.hide())}),[4,l.present()];case 2:return[2,e.sent()]}})})},n.prototype.openOptionsSelect=function(n){return i.b(this,void 0,void 0,function(){var l=this;return i.e(this,function(t){switch(t.label){case 0:return 1!=this.user.id_rol?[3,3]:[4,this.actionSheetController.create({buttons:[{text:"Borrar",role:"destructive",icon:"trash",handler:function(){l.eliminar(n)}},{text:"Editar",icon:"build",handler:function(){l.patrocinador=n,l.openCrud(2)}},{text:"Cancelar",icon:"close",role:"cancel",handler:function(){}}]})];case 1:return[4,t.sent().present()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.eliminar=function(n){return i.b(this,void 0,void 0,function(){var l=this;return i.e(this,function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:"Confirmaci\xf3n",message:"\xbfEst\xe1s seguro de eliminar el patrocinador?, recuerda que tus usuarios ya no podr\xe1n verlo nuevamente",buttons:[{text:"Cancelar",handler:function(){}},{text:"Aceptar",handler:function(){l.eliminarPatrocinador(n)}}]})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},n.prototype.eliminarPatrocinador=function(n){return i.b(this,void 0,void 0,function(){var l,t=this;return i.e(this,function(e){return l={id:n.id},this.loadingService.show().then(function(){t.genericService.post("patrocinadores/deletePatrocinador",JSON.stringify(l)).subscribe(function(l){if(console.log(l),"A"==l.status)return t.removeitem(n).then(function(){t.loadingService.hide()});t.alertaService.warnAlert(t.genericService.headerValidacion,l.description,null),t.loadingService.hide()},function(n){console.log(n),t.loadingService.hide(),t.alertaService.errorAlert(t.genericService.headerError,n.error.description,null)})}),[2]})})},n.prototype.removeitem=function(n){return i.b(this,void 0,void 0,function(){var l;return i.e(this,function(t){return l=this.patrocinadores.findIndex(function(l){return l.id==n.id}),this.patrocinadores=this.patrocinadores.slice(0,l).concat(this.patrocinadores.slice(l+1)),[2,new Promise(function(n){n(!0)})]})})},n}(),b=function(){return function(){}}(),h=t("pMnS"),f=t("RIls"),g=t("IiMW"),m=t("OoFP"),v=t("oBZk"),k=t("Ip0R"),P=e.ob({encapsulation:0,styles:[[".cardPatrocinador[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid #e2e2e2}.cardPatrocinador[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{display:inline-block;width:25%;vertical-align:super}.cardPatrocinador[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.cardPatrocinador[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{display:inline-block;width:70%;margin-left:5%}.cardPatrocinador[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:-9px}.imagenCard[_ngcontent-%COMP%]{width:150px;height:150px;padding:20px}"]],data:{}});function S(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,2,"div",[["class","contenedorSpinner"]],null,null,null,null,null)),(n()(),e.qb(1,0,null,null,1,"ion-spinner",[],null,null,null,v.ob,v.F)),e.pb(2,49152,null,0,p.tb,[e.h,e.k],null,null)],null,null)}function y(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,0,"img",[["alt",""],["class","imagenCard"]],[[8,"src",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOptionsSelect(n.parent.context.$implicit)&&e),e},null,null))],null,function(n,l){n(l,0,0,e.sb(1,"",l.parent.context.$implicit.img_url,""))})}function x(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,0,"img",[["alt",""],["class","imagenCard"]],[[8,"src",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOptionsSelect(n.parent.context.$implicit)&&e),e},null,null))],null,function(n,l){n(l,0,0,e.sb(1,"",l.parent.context.$implicit.img_base64,""))})}function C(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,0,"img",[["alt",""],["class","imagenCard"],["src","assets/imgs/patrocinadores/patrocinadores.png"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOptionsSelect(n.parent.context.$implicit)&&e),e},null,null))],null,null)}function q(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,19,"ion-card",[["class","animated pulse"]],null,null,null,v.S,v.f)),e.pb(1,49152,null,0,p.o,[e.h,e.k],null,null),(n()(),e.hb(16777216,null,0,1,null,y)),e.pb(3,16384,null,0,k.i,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,0,1,null,x)),e.pb(5,16384,null,0,k.i,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,0,1,null,C)),e.pb(7,16384,null,0,k.i,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(8,0,null,0,8,"ion-card-header",[],null,null,null,v.P,v.h)),e.pb(9,49152,null,0,p.q,[e.h,e.k],null,null),(n()(),e.qb(10,0,null,0,3,"ion-card-subtitle",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openLink(n.context.$implicit.url)&&e),e},v.Q,v.i)),e.pb(11,49152,null,0,p.r,[e.h,e.k],null,null),(n()(),e.qb(12,0,null,0,1,"a",[["href",""]],null,null,null,null,null)),(n()(),e.Fb(13,null,["",""])),(n()(),e.qb(14,0,null,0,2,"ion-card-title",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOptionsSelect(n.context.$implicit)&&e),e},v.R,v.j)),e.pb(15,49152,null,0,p.s,[e.h,e.k],null,null),(n()(),e.Fb(16,0,["",""])),(n()(),e.qb(17,0,null,0,2,"ion-card-content",[["style","text-align: justify;"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openOptionsSelect(n.context.$implicit)&&e),e},v.O,v.g)),e.pb(18,49152,null,0,p.p,[e.h,e.k],null,null),(n()(),e.Fb(19,0,[" "," "]))],function(n,l){n(l,3,0,null!==l.context.$implicit.img_url),n(l,5,0,null!==l.context.$implicit.img_base64),n(l,7,0,null===l.context.$implicit.img_base64&&null===l.context.$implicit.img_url)},function(n,l){n(l,13,0,l.context.$implicit.url),n(l,16,0,l.context.$implicit.descripcion),n(l,19,0,l.context.$implicit.informacion)})}function O(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,5,"ion-fab",[["class","animated swing"],["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,v.W,v.m)),e.pb(1,49152,null,0,p.y,[e.h,e.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.qb(2,0,null,0,3,"ion-fab-button",[["color","dark"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openCrud(1)&&e),e},v.V,v.n)),e.pb(3,49152,null,0,p.z,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.qb(4,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,v.Z,v.q)),e.pb(5,49152,null,0,p.E,[e.h,e.k],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"end","bottom"),n(l,3,0,"dark"),n(l,5,0,"add")},null)}function _(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,10,"ion-header",[["color","icon"]],null,null,null,v.Y,v.p)),e.pb(1,49152,null,0,p.D,[e.h,e.k],null,null),(n()(),e.qb(2,0,null,0,8,"ion-toolbar",[["color","icon"]],null,null,null,v.rb,v.I)),e.pb(3,49152,null,0,p.Db,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.qb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,v.N,v.e)),e.pb(5,49152,null,0,p.n,[e.h,e.k],null,null),(n()(),e.qb(6,0,null,0,1,"ion-menu-button",[],null,null,null,v.hb,v.z)),e.pb(7,49152,null,0,p.T,[e.h,e.k],null,null),(n()(),e.qb(8,0,null,0,2,"ion-title",[],null,null,null,v.qb,v.H)),e.pb(9,49152,null,0,p.Bb,[e.h,e.k],null,null),(n()(),e.Fb(-1,0,[" Patrocinadores "])),(n()(),e.qb(11,0,null,null,11,"ion-content",[],null,null,null,v.U,v.l)),e.pb(12,49152,null,0,p.w,[e.h,e.k],null,null),(n()(),e.qb(13,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,t){var e=!0;return"ionRefresh"===l&&(e=!1!==n.component.ionRefresh(t)&&e),e},v.lb,v.B)),e.pb(14,49152,null,0,p.eb,[e.h,e.k],null,null),(n()(),e.qb(15,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["refreshingSpinner","circles"]],null,null,null,v.kb,v.C)),e.pb(16,49152,null,0,p.fb,[e.h,e.k],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(n()(),e.hb(16777216,null,0,1,null,S)),e.pb(18,16384,null,0,k.i,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,0,1,null,q)),e.pb(20,278528,null,0,k.h,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.hb(16777216,null,0,1,null,O)),e.pb(22,16384,null,0,k.i,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,"icon"),n(l,16,0,"arrow-dropdown","circles"),n(l,18,0,null==t.patrocinadores||0==t.patrocinadores.length),n(l,20,0,t.patrocinadores),n(l,22,0,1==t.user.id_rol&&null!==t.patrocinadores&&t.patrocinadores.length>0)},null)}function w(n){return e.Gb(0,[(n()(),e.qb(0,0,null,null,1,"app-patrocinadores",[],null,null,null,_,P)),e.pb(1,114688,null,0,d,[c.a,a.a,s.a,p.Jb,p.b,p.a,r.a],null,null)],function(n,l){n(l,1,0)},null)}var I=e.mb("app-patrocinadores",d,w,{},{},[]),M=t("K7ju"),$=t("gIcY"),F=t("ZYCi"),G=t("PCNd");t.d(l,"PatrocinadoresPageModuleNgFactory",function(){return j});var j=e.nb(b,[],function(n){return e.xb([e.yb(512,e.j,e.cb,[[8,[h.a,f.a,g.a,m.a,I,M.a]],[3,e.j],e.x]),e.yb(4608,k.k,k.j,[e.u,[2,k.s]]),e.yb(4608,$.t,$.t,[]),e.yb(4608,p.c,p.c,[e.z,e.g]),e.yb(4608,p.Jb,p.Jb,[p.c,e.j,e.q,k.c]),e.yb(4608,p.Nb,p.Nb,[p.c,e.j,e.q,k.c]),e.yb(4608,$.e,$.e,[]),e.yb(1073742336,k.b,k.b,[]),e.yb(1073742336,$.r,$.r,[]),e.yb(1073742336,$.h,$.h,[]),e.yb(1073742336,p.Fb,p.Fb,[]),e.yb(1073742336,F.n,F.n,[[2,F.t],[2,F.m]]),e.yb(1073742336,$.o,$.o,[]),e.yb(1073742336,G.a,G.a,[]),e.yb(1073742336,b,b,[]),e.yb(1024,F.k,function(){return[[{path:"",component:d}]]},[])])})}}]);