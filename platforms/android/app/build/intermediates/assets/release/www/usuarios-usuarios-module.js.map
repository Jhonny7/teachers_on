{"version":3,"sources":["webpack:///./src/app/usuarios/usuarios.module.ts","webpack:///./src/app/usuarios/usuarios.page.html","webpack:///./src/app/usuarios/usuarios.page.scss","webpack:///./src/app/usuarios/usuarios.page.ts","webpack:///./src/models/UsuarioModel.ts"],"names":[],"mappings":"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","file":"usuarios-usuarios-module.js","sourcesContent":["import { CrudUsuariosPage } from './../crud-usuarios/crud-usuarios.page';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UsuariosPage } from './usuarios.page';\nimport { SharedModule } from '../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UsuariosPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule,\n    ReactiveFormsModule\n  ],\n  declarations: [UsuariosPage, CrudUsuariosPage],\n  entryComponents: [CrudUsuariosPage]\n})\nexport class UsuariosPageModule { }\n","module.exports = \"<ion-header color=\\\"icon\\\">\\n  <ion-toolbar color=\\\"icon\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Usuarios\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"contenedorSpinner\\\" *ngIf=\\\"usuarios == null || usuarios.length == 0\\\">\\n    <ion-spinner></ion-spinner>\\n  </div>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"ionRefresh($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" refreshingSpinner=\\\"circles\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n\\n  <ion-list class=\\\"margin_top_list\\\">\\n    <ion-item-sliding *ngFor=\\\"let usuario of usuarios\\\" class=\\\"animated tada\\\">\\n      <ion-item class=\\\"margin_top\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"{{usuario.img}}\\\" *ngIf=\\\"usuario.img !== null\\\">\\n          <img src=\\\"assets/imgs/usuarios/user.svg\\\" *ngIf=\\\"usuario.img === null\\\">\\n        </ion-avatar>\\n        <ion-label>\\n          <h2>{{usuario.nombre}} {{usuario.apellidoPaterno}} {{usuario.apellidoMaterno}}</h2>\\n          <h3>{{usuario.email}}</h3>\\n          <p>Fecha de creaci√≥n: {{usuario.fecha}}</p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\" class=\\\"margin_top\\\">\\n        <ion-item-option (click)=\\\"editar(usuario)\\\">\\n          <div class=\\\"divText\\\">\\n            <div>Editar</div>\\n            <ion-icon name=\\\"construct\\\"></ion-icon>\\n          </div>\\n        </ion-item-option>\\n        <ion-item-option (click)=\\\"eliminar(usuario)\\\" color=\\\"danger\\\">\\n          <div class=\\\"divText\\\">\\n            <div>Borrar</div>\\n            <ion-icon name=\\\"trash\\\"></ion-icon>\\n          </div>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf=\\\"user.id_rol == 1 && usuarios !== null && usuarios.length > 0\\\"\\n    class=\\\"animated swing\\\">\\n    <ion-fab-button color=\\\"dark\\\" (click)=\\\"openCrud(1)\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.margin_top {\\n  margin-top: 0px; }\\n\\n.margin_top_list {\\n  margin-top: 4px; }\\n\\n.divText {\\n  margin-top: -5px; }\\n\\n.divText div {\\n    display: inline-block;\\n    margin-right: 5px; }\\n\\n.popover-translucent.sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios:after, .popover-translucent.sc-ion-popover-ios-h .popover-content.sc-ion-popover-ios {\\n  background: rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);\\n  top: 47px;\\n  left: calc(62px - var(--ion-safe-area-right, 0px)) !important;\\n  -webkit-transform-origin: right top;\\n          transform-origin: right top;\\n  width: 311px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNwcm8vRG9jdW1lbnRzL0lvbmljUHJvamVjdHMvSnVhbi9wZXJzb25hbC90ZWFjaGVyc19vbi9zcmMvYXBwL3VzdWFyaW9zL3VzdWFyaW9zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFnQjtFQUNoQixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxlQUFlLEVBQUE7O0FBRWpCO0VBQ0UsZUFBZSxFQUFBOztBQUVqQjtFQUNFLGdCQUFnQixFQUFBOztBQURsQjtJQUdJLHFCQUFxQjtJQUNyQixpQkFBaUIsRUFBQTs7QUFJckI7RUFDRSxxRUFBZ0U7RUFDaEUsU0FBUztFQUNULDZEQUE2RDtFQUM3RCxtQ0FBMkI7VUFBM0IsMkJBQTJCO0VBQzNCLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL3VzdWFyaW9zL3VzdWFyaW9zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi53ZWxjb21lLWNhcmQgaW9uLWltZyB7XG4gICAgbWF4LWhlaWdodDogMzV2aDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4gIFxuICAubWFyZ2luX3RvcHtcbiAgICBtYXJnaW4tdG9wOiAwcHg7XG4gIH1cbiAgLm1hcmdpbl90b3BfbGlzdHtcbiAgICBtYXJnaW4tdG9wOiA0cHg7XG4gIH1cbiAgLmRpdlRleHR7XG4gICAgbWFyZ2luLXRvcDogLTVweDtcbiAgICBkaXZ7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG4gIH1cbiAgXG4gIC5wb3BvdmVyLXRyYW5zbHVjZW50LnNjLWlvbi1wb3BvdmVyLWlvcy1oIC5wb3BvdmVyLWFycm93LnNjLWlvbi1wb3BvdmVyLWlvczphZnRlciwgLnBvcG92ZXItdHJhbnNsdWNlbnQuc2MtaW9uLXBvcG92ZXItaW9zLWggLnBvcG92ZXItY29udGVudC5zYy1pb24tcG9wb3Zlci1pb3Mge1xuICAgIGJhY2tncm91bmQ6IHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLDI1NSwyNTUsMjU1KSwuOCk7XG4gICAgdG9wOiA0N3B4O1xuICAgIGxlZnQ6IGNhbGMoNjJweCAtIHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQsIDBweCkpICFpbXBvcnRhbnQ7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgdG9wO1xuICAgIHdpZHRoOiAzMTFweDtcbiAgfVxuICAiXX0= */\"","import { CrudUsuariosPage } from './../crud-usuarios/crud-usuarios.page';\nimport { UsuarioModel } from './../../models/UsuarioModel';\nimport { Component, OnInit } from '@angular/core';\nimport { GenericService } from 'src/services/generic-service/generic-service.service';\nimport { LoadingService } from 'src/services/loading-service/loading.service';\nimport { AlertaService } from 'src/services/alerta-service/alerta.service';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n  selector: 'app-usuarios',\n  templateUrl: './usuarios.page.html',\n  styleUrls: ['./usuarios.page.scss'],\n})\nexport class UsuariosPage implements OnInit {\n  public page: number = 0;\n  public limit: number = 10;\n  public user: any;\n\n  public usuarios: UsuarioModel[] = [];\n  public usuario: UsuarioModel;\n\n  constructor(\n    private genericService: GenericService,\n    private loadingService: LoadingService,\n    private alertaService: AlertaService,\n    private modalController: ModalController,\n    private alertCtrl: AlertController\n  ) { \n    this.user = JSON.parse(localStorage.getItem(\"user\"));\n    this.cargarUsuariosByPage();\n  }\n\n  ngOnInit() {\n  }\n\n\n  ionRefresh(event) {\n    setTimeout(() => {\n      //complete()  signify that the refreshing has completed and to close the refresher\n      this.usuarios = [];\n      this.page = 0;\n      event.target.complete();\n      this.cargarUsuariosByPage();\n    }, 3000);\n  }\n\n  cargarUsuariosByPage() {\n    this.usuarios = [];\n    let params;\n    if (this.page !== 0) {\n      params = {\n        'start': this.page * this.limit + 1,\n        'end': this.limit\n      };\n    } else {\n      params = {\n        'start': this.page,\n        'end': this.limit\n      };\n    }\n    this.genericService.post(\"usuarios/getUsuarios\", JSON.stringify(params)).subscribe((res: any) => {\n      console.log(res);\n      if (res.parameters) {\n        res.parameters.forEach(usuario => {\n          this.usuarios.push(new UsuarioModel(\n            usuario.id,\n            usuario.id_rol,\n            usuario.nombre,\n            usuario.apellido_paterno,\n            usuario.apellido_materno,\n            usuario.email,\n            usuario.fecha,\n            usuario.img_base64,\n            usuario.id_status\n          ));\n        });\n      }\n      if (this.page !== 0) {\n      }\n      this.page++;\n      this.loadingService.hide();\n    }, (err: HttpErrorResponse) => {\n      console.log(err.error.description);\n      console.log(err.error);\n\n      this.loadingService.hide();\n\n      this.alertaService.warnAlert(this.genericService.headerError, err.error.description, null);\n    });\n  }\n\n  editar(usuario: UsuarioModel) {\n    this.usuario = usuario;\n    this.openCrud(2);\n  }\n\n  //1 = crear, 0 = editar\n  async openCrud(type: number) {\n    let modal;\n    if (type == 1) {\n      modal = await this.modalController.create({\n        component: CrudUsuariosPage,\n        componentProps: {\n          type: \"Crear\",\n          usuarios: this.usuarios\n        }\n      });\n      modal.onDidDismiss().then((data) => {\n        let num: number = data.data.data;\n        console.log(num);\n        if (num == 1) {\n          //this.loadingService.show().then(() => {\n          this.page = 0;\n          this.cargarUsuariosByPage();\n          //});\n        } else {\n          console.log(\"Data null\");\n          this.loadingService.hide();\n        }\n      });\n      return await modal.present();\n    } else {\n      this.openModalEdit(this.usuario);\n    }\n  }\n\n  async openModalEdit(usuario: any) {\n    let modal;\n    modal = await this.modalController.create({\n      component: CrudUsuariosPage,\n      componentProps: {\n        type: \"Editar\",\n        usuario: usuario\n      }\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log(data);\n      console.log(data.data);\n      let num: number = data.data.data;\n      console.log(num);\n      if (num == 1) {\n        this.page = 0;\n        this.cargarUsuariosByPage();\n      } else {\n        console.log(\"Data null\");\n        this.loadingService.hide();\n      }\n    });\n    return await modal.present();\n  }\n\n  /**L√≥gica de eliminado */\n  async eliminar(usuario: UsuarioModel) {\n    const confirm = await this.alertCtrl.create({\n      header: \"Confirmaci√≥n\",\n      message: \"¬øEst√°s seguro de eliminar el usuario?, √©ste ya no podr√° acceder a la plataforma.\",\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Aceptar',\n          handler: () => {\n            this.eliminarUsuario(usuario);\n          }\n        }\n      ]\n    });\n    return await confirm.present();\n  }\n\n  async eliminarUsuario(usuario: UsuarioModel) {\n    //this.categoria = categoria;\n    let params = {\n      id: usuario.id\n    };\n    this.loadingService.show().then(() => {\n      this.genericService.post(\"usuarios/deleteUsuario\", JSON.stringify(params)).subscribe((res: any) => {\n        console.log(res);\n        if (res.status == \"A\") {\n          return this.removeitem(usuario).then(() => {\n            this.loadingService.hide();\n          });\n        } else {\n          this.alertaService.warnAlert(this.genericService.headerValidacion, res.description, null);\n        }\n        this.loadingService.hide();\n      }, (err: HttpErrorResponse) => {\n        console.log(err);\n        this.loadingService.hide();\n        this.alertaService.errorAlert(this.genericService.headerError, err.error.description, null);\n      });\n    });\n  }\n\n  async removeitem(n: UsuarioModel) {\n    const index = this.usuarios.findIndex(nivel => nivel.id == n.id);\n    this.usuarios = [\n      ...this.usuarios.slice(0,index),\n      ...this.usuarios.slice(index+1)\n    ];\n    return new Promise((resolve) => {\n      resolve(true);\n    });\n  }\n  \n}\n","export class UsuarioModel {\n    constructor(\n        public id: number,\n        public idRol: number,\n        public nombre: string,\n        public apellidoPaterno: string,\n        public apellidoMaterno: string,\n        public email: string,\n        public fecha: string,\n        public img: string,\n        public idStatus: number\n    ) { }\n\n}"],"sourceRoot":""}