{"version":3,"sources":["webpack:///./src/app/videos-admin/videos-admin.module.ts","webpack:///./src/app/videos-admin/videos-admin.page.html","webpack:///./src/app/videos-admin/videos-admin.page.scss","webpack:///./src/app/videos-admin/videos-admin.page.ts","webpack:///./src/models/VideoAdminModel.ts"],"names":[],"mappings":"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","file":"videos-admin-videos-admin-module.js","sourcesContent":["import { CrudVideosPage } from './../crud-videos/crud-videos.page';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VideosAdminPage } from './videos-admin.page';\nimport { SharedModule } from '../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VideosAdminPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule,\n    ReactiveFormsModule\n  ],\n  declarations: [VideosAdminPage, CrudVideosPage],\n  entryComponents: [CrudVideosPage]\n})\nexport class VideosAdminPageModule { }\n","module.exports = \"<ion-header color=\\\"icon\\\">\\n  <ion-toolbar color=\\\"icon\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Cursos\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n  <div class=\\\"contenedorSpinner\\\" *ngIf=\\\"videos == null || videos.length == 0\\\">\\n    <ion-spinner></ion-spinner>\\n  </div>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"ionRefresh($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" refreshingSpinner=\\\"circles\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-list class=\\\"margin_top_list\\\">\\n    <ion-item-sliding *ngFor=\\\"let video of videos\\\" class=\\\"animated shake\\\">\\n      <ion-item class=\\\"margin_top\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <img [src]=\\\"returnUrl(video)\\\" *ngIf=\\\"video.url !== null\\\">\\n          <img src=\\\"assets/imgs/videos/videos.png\\\" *ngIf=\\\"video.url === null\\\">\\n        </ion-avatar>\\n        <ion-label>\\n          <h2>{{video.descripcion}}</h2>\\n          <h3>Categoría: {{video.categoria_descripcion}}</h3>\\n          <p>Fecha de creación: {{video.fecha}}</p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\" class=\\\"margin_top\\\">\\n        <ion-item-option (click)=\\\"editar(video)\\\">\\n          <div class=\\\"divText\\\">\\n            <div>Editar</div>\\n            <ion-icon name=\\\"construct\\\"></ion-icon>\\n          </div>\\n        </ion-item-option>\\n        <ion-item-option (click)=\\\"eliminar(video)\\\" color=\\\"danger\\\">\\n          <div class=\\\"divText\\\">\\n            <div>Borrar</div>\\n            <ion-icon name=\\\"trash\\\"></ion-icon>\\n          </div>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf=\\\"user.id_rol == 1 && videos !== null && videos.length > 0\\\"\\n    class=\\\"animated swing\\\">\\n    <ion-fab-button color=\\\"dark\\\" (click)=\\\"openCrud(1)\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.margin_top {\\n  margin-top: 0px; }\\n\\n.margin_top_list {\\n  margin-top: 4px; }\\n\\n.divText {\\n  margin-top: -5px; }\\n\\n.divText div {\\n    display: inline-block;\\n    margin-right: 5px; }\\n\\n.popover-translucent.sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios:after, .popover-translucent.sc-ion-popover-ios-h .popover-content.sc-ion-popover-ios {\\n  background: rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);\\n  top: 47px;\\n  left: calc(62px - var(--ion-safe-area-right, 0px)) !important;\\n  -webkit-transform-origin: right top;\\n          transform-origin: right top;\\n  width: 311px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNwcm8vRG9jdW1lbnRzL0lvbmljUHJvamVjdHMvSnVhbi9wZXJzb25hbC90ZWFjaGVyc19vbi9zcmMvYXBwL3ZpZGVvcy1hZG1pbi92aWRlb3MtYWRtaW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQUdsQjtFQUNFLGVBQWUsRUFBQTs7QUFFakI7RUFDRSxlQUFlLEVBQUE7O0FBRWpCO0VBQ0UsZ0JBQWdCLEVBQUE7O0FBRGxCO0lBR0kscUJBQXFCO0lBQ3JCLGlCQUFpQixFQUFBOztBQUlyQjtFQUNFLHFFQUFnRTtFQUNoRSxTQUFTO0VBQ1QsNkRBQTZEO0VBQzdELG1DQUEyQjtVQUEzQiwyQkFBMkI7RUFDM0IsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlkZW9zLWFkbWluL3ZpZGVvcy1hZG1pbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2VsY29tZS1jYXJkIGlvbi1pbWcge1xuICAgIG1heC1oZWlnaHQ6IDM1dmg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuICBcbiAgLm1hcmdpbl90b3B7XG4gICAgbWFyZ2luLXRvcDogMHB4O1xuICB9XG4gIC5tYXJnaW5fdG9wX2xpc3R7XG4gICAgbWFyZ2luLXRvcDogNHB4O1xuICB9XG4gIC5kaXZUZXh0e1xuICAgIG1hcmdpbi10b3A6IC01cHg7XG4gICAgZGl2e1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgfVxuICB9XG4gIFxuICAucG9wb3Zlci10cmFuc2x1Y2VudC5zYy1pb24tcG9wb3Zlci1pb3MtaCAucG9wb3Zlci1hcnJvdy5zYy1pb24tcG9wb3Zlci1pb3M6YWZ0ZXIsIC5wb3BvdmVyLXRyYW5zbHVjZW50LnNjLWlvbi1wb3BvdmVyLWlvcy1oIC5wb3BvdmVyLWNvbnRlbnQuc2MtaW9uLXBvcG92ZXItaW9zIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwyNTUsMjU1LDI1NSksLjgpO1xuICAgIHRvcDogNDdweDtcbiAgICBsZWZ0OiBjYWxjKDYycHggLSB2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0LCAwcHgpKSAhaW1wb3J0YW50O1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IHRvcDtcbiAgICB3aWR0aDogMzExcHg7XG4gIH1cbiAgIl19 */\"","import { CategoriaModel } from './../../models/CategoriaModel';\nimport { CrudVideosPage } from './../crud-videos/crud-videos.page';\nimport { VideoAdminModel } from './../../models/VideoAdminModel';\nimport { AlertaService } from './../../services/alerta-service/alerta.service';\nimport { GenericService } from 'src/services/generic-service/generic-service.service';\nimport { Component, OnInit } from '@angular/core';\nimport { LoadingService } from 'src/services/loading-service/loading.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ModalController, AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-videos-admin',\n  templateUrl: './videos-admin.page.html',\n  styleUrls: ['./videos-admin.page.scss'],\n})\nexport class VideosAdminPage implements OnInit {\n\n  public page: number = 0;\n  public limit: number = 10;\n  public user: any;\n\n  public videos: VideoAdminModel[] = [];\n  public video: VideoAdminModel;\n  public categorias: CategoriaModel[] = [];\n\n  constructor(\n    private genericService: GenericService,\n    private loadingService: LoadingService,\n    private alertaService: AlertaService,\n    private sanitizer: DomSanitizer,\n    private modalController: ModalController,\n    private alertCtrl: AlertController\n  ) {\n    this.user = JSON.parse(localStorage.getItem(\"user\"));\n    this.chargeCategories();\n  }\n\n  ngOnInit() {\n  }\n\n  ionRefresh(event) {\n    setTimeout(() => {\n      //complete()  signify that the refreshing has completed and to close the refresher\n      this.videos = [];\n      this.page = 0;\n      event.target.complete();\n      this.cargarVideosByPage();\n    }, 3000);\n  }\n\n  cargarVideosByPage() {\n    this.videos = [];\n    let params;\n    if (this.page !== 0) {\n      params = {\n        'start': this.page * this.limit + 1,\n        'end': this.limit\n      };\n    } else {\n      params = {\n        'start': this.page,\n        'end': this.limit\n      };\n    }\n    this.genericService.post(\"cursos/getVideosByPage\", JSON.stringify(params)).subscribe((res: any) => {\n      //console.log(res);\n      if (res.parameters) {\n        res.parameters.forEach(video => {\n          this.videos.push(new VideoAdminModel(\n            video.id,\n            video.descripcion,\n            video.url,\n            video.descripcion_categoria,\n            video.fecha,\n            video.idCategoria\n          ));\n\n        });\n\n        console.log(this.videos);\n      }\n      if (this.page !== 0) {\n      }\n      this.page++;\n      this.loadingService.hide();\n    }, (err: HttpErrorResponse) => {\n      console.log(err.error.description);\n      console.log(err.error);\n\n      this.loadingService.hide();\n\n      this.alertaService.warnAlert(this.genericService.headerError, err.error.description, null);\n    });\n  }\n\n  returnUrl(video: VideoAdminModel) {\n    //console.log(video);\n    let url = video.url;\n    let returnUrl: string = \"\";\n    let obtenerYoutube: string[] = url.split(\"youtube\");\n    if (obtenerYoutube[1]) {\n      let splitPage: string[] = url.split(\"v=\");\n      let splitPage2: string[] = splitPage[1].split(\"&\");\n      if (splitPage2) {\n        returnUrl = splitPage2[0];\n      } else {\n        returnUrl = splitPage[1];\n      }\n    } else {\n      //Es sacado de celular\n      let splitPage: string[] = url.split(\".be/\");\n      if (splitPage) {\n        returnUrl = splitPage[1];\n      } else {\n        //links que no son de youtube\n        returnUrl = \"\";\n        return returnUrl;\n      }\n    }\n    //console.log(returnUrl + \"  \" + video.id);\n\n    return this.sanitizer.bypassSecurityTrustResourceUrl(`https://img.youtube.com/vi/${returnUrl}/0.jpg`);\n  }\n\n  editar(video: VideoAdminModel) {\n    this.video = video;\n    this.openCrud(2);\n  }\n\n  //1 = crear, 0 = editar\n  async openCrud(type: number) {\n    let modal;\n    if (type == 1) {\n      modal = await this.modalController.create({\n        component: CrudVideosPage,\n        componentProps: {\n          type: \"Crear\",\n          categorias: this.categorias\n        }\n      });\n      modal.onDidDismiss().then((data) => {\n        let num: number = data.data.data;\n        console.log(num);\n        if (num == 1) {\n          //this.loadingService.show().then(() => {\n          this.page = 0;\n          this.cargarVideosByPage();\n          //});\n        } else {\n          console.log(\"Data null\");\n          this.loadingService.hide();\n        }\n      });\n      return await modal.present();\n    } else {\n      console.log(\"------------------------------\");\n\n      console.log(this.video);\n\n      this.openModalEdit(this.video);\n    }\n  }\n\n  async openModalEdit(video: any) {\n    let modal;\n    modal = await this.modalController.create({\n      component: CrudVideosPage,\n      componentProps: {\n        type: \"Editar\",\n        video: video,\n        categorias: this.categorias\n      }\n    });\n    modal.onDidDismiss().then((data) => {\n      console.log(data);\n      console.log(data.data);\n      let num: number = data.data.data;\n      console.log(num);\n      if (num == 1) {\n        this.page = 0;\n        this.cargarVideosByPage();\n      } else {\n        console.log(\"Data null\");\n        this.loadingService.hide();\n      }\n    });\n    return await modal.present();\n  }\n\n  /**Lógica de eliminado */\n  async eliminar(video: VideoAdminModel) {\n    const confirm = await this.alertCtrl.create({\n      header: \"Confirmación\",\n      message: \"¿Estás seguro de eliminar el video?, recuerda que ya no lo podrán ver tus usuarios.\",\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Aceptar',\n          handler: () => {\n            this.eliminarVideo(video);\n          }\n        }\n      ]\n    });\n    return await confirm.present();\n  }\n\n  async eliminarVideo(video: VideoAdminModel) {\n    //this.categoria = categoria;\n    let params = {\n      id: video.id\n    };\n    this.loadingService.show().then(() => {\n      this.genericService.post(\"cursos/deleteCurso\", JSON.stringify(params)).subscribe((res: any) => {\n        console.log(res);\n        if (res.status == \"A\") {\n          return this.removeitem(video).then(() => {\n            this.loadingService.hide();\n          });\n        } else {\n          this.alertaService.warnAlert(this.genericService.headerValidacion, res.description, null);\n        }\n        this.loadingService.hide();\n      }, (err: HttpErrorResponse) => {\n        console.log(err);\n        this.loadingService.hide();\n        this.alertaService.errorAlert(this.genericService.headerError, err.error.description, null);\n      });\n    });\n  }\n\n  async removeitem(n: VideoAdminModel) {\n    const index = this.videos.findIndex(nivel => nivel.id == n.id);\n    this.videos = [\n      ...this.videos.slice(0, index),\n      ...this.videos.slice(index + 1)\n    ];\n    return new Promise((resolve) => {\n      resolve(true);\n    });\n  }\n\n  chargeCategories() {\n    this.categorias = [];\n    this.genericService.post(\"categorias/categorias\", JSON.stringify({})).subscribe((res: any) => {\n      //console.log(res);\n      if (res.parameters) {\n        res.parameters.forEach(categoria => {\n          this.categorias.push(new CategoriaModel(\n            categoria.id,\n            categoria.descripcion,\n            categoria.img_url,\n            categoria.img_base64,\n            categoria.color\n          ));\n        });\n        this.cargarVideosByPage();\n        //this.loadingService.hide();\n      }\n    }, (err: HttpErrorResponse) => {\n      //console.log(err.error.description);\n      //this.loadingService.hide();\n      this.alertaService.errorAlert(this.genericService.headerError, err.error.description, null);\n    });\n  }\n}\n","export class VideoAdminModel {\n    constructor(\n        public id: number,\n        public descripcion: string,\n        public url: string,\n        public categoria_descripcion: string,\n        public fecha:string,\n        public idCategoria:number\n    ) { }\n\n}"],"sourceRoot":""}